{"ast":null,"code":"import React,{useState}from'react';import{Box,Container,VStack,HStack,Button,Input,Card,CardBody,CardHeader,Heading,Divider,useColorModeValue,Text,useToast}from'@chakra-ui/react';import{useAuthStore}from'../store/authStore';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const LoginPage=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const{login}=useAuthStore();const navigate=useNavigate();const toast=useToast();const cardBg=useColorModeValue('white','gray.800');const handleLogin=async e=>{e.preventDefault();setLoading(true);try{await login(username,password);navigate('/');toast({title:'Muvaffaqiyatli kirish',status:'success',duration:3000,isClosable:true});}catch(error){toast({title:'Kirish xatosi',description:'Login yoki parol noto\\'g\\'ri',status:'error',duration:3000,isClosable:true});}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Box,{minH:\"100vh\",bgGradient:\"linear(to-r, blue.400, purple.500)\",display:\"flex\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Container,{maxW:\"sm\",children:/*#__PURE__*/_jsxs(Card,{bg:cardBg,children:[/*#__PURE__*/_jsxs(CardHeader,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Heading,{size:\"lg\",children:\"\\uD83D\\uDEE1\\uFE0F Nazoratchi\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",mt:2,children:\"Sanoat Xavfsizligi Inspeksiyasi\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleLogin,children:/*#__PURE__*/_jsxs(VStack,{spacing:6,children:[/*#__PURE__*/_jsxs(VStack,{spacing:2,w:\"full\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",alignSelf:\"start\",fontSize:\"sm\",children:\"Username\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Username kiriting\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value),isDisabled:loading})]}),/*#__PURE__*/_jsxs(VStack,{spacing:2,w:\"full\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",alignSelf:\"start\",fontSize:\"sm\",children:\"Parol\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Parol kiriting\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),isDisabled:loading})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",colorScheme:\"blue\",w:\"full\",isLoading:loading,loadingText:\"Kirilmoqda...\",children:\"Kirish\"}),/*#__PURE__*/_jsxs(HStack,{fontSize:\"xs\",color:\"gray.600\",justify:\"center\",children:[/*#__PURE__*/_jsx(Text,{children:\"Test hisob:\"}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",children:\"admin / password\"})]})]})})})]})})});};","map":{"version":3,"names":["React","useState","Box","Container","VStack","HStack","Button","Input","Card","CardBody","CardHeader","Heading","Divider","useColorModeValue","Text","useToast","useAuthStore","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginPage","username","setUsername","password","setPassword","loading","setLoading","login","navigate","toast","cardBg","handleLogin","e","preventDefault","title","status","duration","isClosable","error","description","minH","bgGradient","display","alignItems","children","maxW","bg","textAlign","size","fontSize","color","mt","onSubmit","spacing","w","fontWeight","alignSelf","placeholder","type","value","onChange","target","isDisabled","colorScheme","isLoading","loadingText","justify"],"sources":["/home/ctrl/PROJECT/Nazoratchi/web/src/pages/LoginPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Container,\n  VStack,\n  HStack,\n  Button,\n  Input,\n  Card,\n  CardBody,\n  CardHeader,\n  Heading,\n  Divider,\n  useColorModeValue,\n  Text,\n  useToast,\n} from '@chakra-ui/react';\nimport { useAuthStore } from '../store/authStore';\nimport { useNavigate } from 'react-router-dom';\n\nexport const LoginPage = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuthStore();\n  const navigate = useNavigate();\n  const toast = useToast();\n  const cardBg = useColorModeValue('white', 'gray.800');\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      await login(username, password);\n      navigate('/');\n      toast({\n        title: 'Muvaffaqiyatli kirish',\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n      });\n    } catch (error) {\n      toast({\n        title: 'Kirish xatosi',\n        description: 'Login yoki parol noto\\'g\\'ri',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Box minH=\"100vh\" bgGradient=\"linear(to-r, blue.400, purple.500)\" display=\"flex\" alignItems=\"center\">\n      <Container maxW=\"sm\">\n        <Card bg={cardBg}>\n          <CardHeader textAlign=\"center\">\n            <Heading size=\"lg\">üõ°Ô∏è Nazoratchi</Heading>\n            <Text fontSize=\"sm\" color=\"gray.600\" mt={2}>\n              Sanoat Xavfsizligi Inspeksiyasi\n            </Text>\n          </CardHeader>\n          <Divider />\n          <CardBody>\n            <form onSubmit={handleLogin}>\n              <VStack spacing={6}>\n                <VStack spacing={2} w=\"full\">\n                  <Text fontWeight=\"bold\" alignSelf=\"start\" fontSize=\"sm\">\n                    Username\n                  </Text>\n                  <Input\n                    placeholder=\"Username kiriting\"\n                    type=\"text\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                    isDisabled={loading}\n                  />\n                </VStack>\n\n                <VStack spacing={2} w=\"full\">\n                  <Text fontWeight=\"bold\" alignSelf=\"start\" fontSize=\"sm\">\n                    Parol\n                  </Text>\n                  <Input\n                    placeholder=\"Parol kiriting\"\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    isDisabled={loading}\n                  />\n                </VStack>\n\n                <Button\n                  type=\"submit\"\n                  colorScheme=\"blue\"\n                  w=\"full\"\n                  isLoading={loading}\n                  loadingText=\"Kirilmoqda...\"\n                >\n                  Kirish\n                </Button>\n\n                <HStack fontSize=\"xs\" color=\"gray.600\" justify=\"center\">\n                  <Text>Test hisob:</Text>\n                  <Text fontWeight=\"bold\">admin / password</Text>\n                </HStack>\n              </VStack>\n            </form>\n          </CardBody>\n        </Card>\n      </Container>\n    </Box>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}